/**
 * Super-tool
 *
 * Version   →  1.0.2
 * Github    →  https://github.com/ariiiman/skylake
 * License   →  http://opensource.org/licenses/MIT
 * Author    →  Aristide Benoist © 2016
 * Website   →  www.aristidebenoist.com
 * Date      →  May 20, 2016
 */
"use strict";var babelHelpers={};babelHelpers.classCallCheck=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},babelHelpers.createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var S={Polyfill:{}};S.Animate=function(){function t(e){switch(babelHelpers.classCallCheck(this,t),this.opts=e,this.distance=this.opts.end-this.opts.start,this.Easing=S.Easing,this.raf=new S.RafIndex,this.opts.parameter){case"x":case"y":this.getUpdate=this.attributUpdate;break;case"scrollTop":this.getUpdate=this.scrollTopUpdate;break;default:this.getUpdate=this.styleUpdate}S.BindMaker(this,["loop"])}return babelHelpers.createClass(t,[{key:"init",value:function(){this.startTime=S.Win.perfNow(),this.raf.start(this.loop)}},{key:"loop",value:function(){var t=S.Win.perfNow(),e=(t-this.startTime)/this.opts.duration,n=e>1?1:e,i=this.Easing[this.opts.easing](n),o=this.opts.start+this.distance*i;this.getUpdate(o),1>n?this.raf.start(this.loop):(this.raf.cancel(),this.getUpdate(this.opts.end),this.opts.callback&&this.opts.callback())}},{key:"attributUpdate",value:function(t){this.opts.element.setAttribute(this.opts.parameter,t)}},{key:"scrollTopUpdate",value:function(t){this.opts.element[this.opts.parameter]=t,this.opts.during&&this.opts.during(t)}},{key:"styleUpdate",value:function(t){this.opts.element.style[this.opts.parameter]=t}}]),t}(),S.BindMaker=function(t,e){for(var n=e.length,i=0;n>i;i++)t[e[i]]=t[e[i]].bind(t)},S.Delay=function(t,e){window.setTimeout(function(){t()},e)};var e={s:1.70158,q:2.25,r:1.525,u:.984375,v:7.5625,w:.9375,x:2.75,y:2.625,z:.75};S.Easing={linear:function(t){return t},Power1In:function(t){return-Math.cos(t*(Math.PI/2))+1},Power1Out:function(t){return Math.sin(t*(Math.PI/2))},Power1InOut:function(t){return-.5*(Math.cos(Math.PI*t)-1)},Power2In:function(t){return t*t},Power2Out:function(t){return t*(2-t)},Power2InOut:function(t){return.5>t?2*t*t:-1+(4-2*t)*t},Power3In:function(t){return t*t*t},Power3Out:function(t){return--t*t*t+1},Power3InOut:function(t){return.5>t?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},Power4In:function(t){return t*t*t*t},Power4Out:function(t){return 1- --t*t*t*t},Power4InOut:function(t){return.5>t?8*t*t*t*t:1-8*--t*t*t*t},Power5In:function(t){return t*t*t*t*t},Power5Out:function(t){return 1+--t*t*t*t*t},Power5InOut:function(t){return.5>t?16*t*t*t*t*t:1+16*--t*t*t*t*t},ExpoIn:function(t){return 0===t?0:Math.pow(2,10*(t-1))},ExpoOut:function(t){return 1===t?1:-Math.pow(2,-10*t)+1},ExpoInOut:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(-Math.pow(2,-10*--t)+2)},CircIn:function(t){return-(Math.sqrt(1-t*t)-1)},CircOut:function(t){return Math.sqrt(1-Math.pow(t-1,2))},CircInOut:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},BackIn:function(t){return t*t*((e.s+1)*t-e.s)},BackOut:function(t){return(t-=1)*t*((e.s+1)*t+e.s)+1},BackInOut:function(t){return(t/=.5)<1?.5*(t*t*(((e.s*=e.r)+1)*t-e.s)):.5*((t-=2)*t*(((e.s*=e.r)+1)*t+e.s)+2)},Elastic:function(t){return-1*Math.pow(4,-8*t)*Math.sin((6*t-1)*(2*Math.PI)/2)+1},SwingFromTo:function(t){return(t/=.5)<1?.5*(t*t*(((e.s*=e.r)+1)*t-e.s)):.5*((t-=2)*t*(((e.s*=e.r)+1)*t+e.s)+2)},SwingFrom:function(t){return t*t*((e.s+1)*t-e.s)},SwingTo:function(t){return(t-=1)*t*((e.s+1)*t+e.s)+1},Bounce:function(t){return t<1/e.x?e.v*t*t:t<2/e.x?e.v*(t-=1.5/e.x)*t+e.z:t<2.5/e.x?e.v*(t-=e.q/e.x)*t+e.w:e.v*(t-=e.y/e.x)*t+e.u},BounceOut:function(t){return t<1/e.x?e.v*t*t:t<2/e.x?e.v*(t-=1.5/e.x)*t+e.z:t<2.5/e.x?e.v*(t-=e.q/e.x)*t+e.w:e.v*(t-=e.y/e.x)*t+e.u},BouncePast:function(t){return t<1/e.x?e.v*t*t:t<2/e.x?2-(e.v*(t-=1.5/e.x)*t+e.z):t<2.5/e.x?2-(e.v*(t-=e.q/e.x)*t+e.w):2-(e.v*(t-=e.y/e.x)*t+e.u)},FromTo:function(t){return(t/=.5)<1?.5*Math.pow(t,4):-.5*((t-=2)*Math.pow(t,3)-2)},From:function(t){return Math.pow(t,4)},To:function(t){return Math.pow(t,.25)}},S.Throttle=function(){function t(e){babelHelpers.classCallCheck(this,t),this.currentTime=0,this.lastTime=0,this.timer,this.opts=e}return babelHelpers.createClass(t,[{key:"init",value:function(){var t=this;this.currentTime=S.Win.perfNow(),this.lastTime+this.opts.delay>this.currentTime?(clearTimeout(this.timer),this.timer=S.Delay(function(){t.opts.callback(),t.timeReset()},this.opts.delay)):(this.opts.endOnly||this.opts.callback(),this.timeReset())}},{key:"timeReset",value:function(){this.lastTime=this.currentTime}}]),t}(),S.Geb=function(){var t=document,e=function(e){return t.getElementById(e)},n=function(e){return t.getElementsByClassName(e)},i=function(e){return t.getElementsByTagName(e)};return{id:e,"class":n,tag:i}}(),S.Dom={html:document.documentElement,body:document.body,app:S.Geb.id("app")},S.Detect={isTouch:"ontouchend"in window,isFirefox:navigator.userAgent.indexOf("Firefox")>-1,isSafari:navigator.vendor&&navigator.vendor.indexOf("Apple")>-1&&navigator.userAgent&&!navigator.userAgent.match("CriOS"),defaultScrolled:function(){var t=this.isFirefox?document.documentElement:S.Dom.body;return t}},S.Selector=function(){var t=function(t){var e=t.charAt(0),n=t.substring(1),i=void 0;return i="#"===e?S.Geb.id(n):S.Geb["class"](n)},e=function(t){var e=t.charAt(0),n=void 0;return n="#"===e?"id":"class"},n=function(t){var e=t.substring(1);return e};return{el:t,type:e,name:n}}(),S.MM=function(){function t(e){babelHelpers.classCallCheck(this,t),this.callback=e,this.posX=0,this.posY=0,this.rafTicking=new S.RafTicking,S.BindMaker(this,["getRAF","run"])}return babelHelpers.createClass(t,[{key:"on",value:function(){this.listeners("add")}},{key:"off",value:function(){this.listeners("remove")}},{key:"listeners",value:function(t){S.Listen(document,t,"mousemove",this.getRAF)}},{key:"getRAF",value:function(t){this.event=t,this.rafTicking.start(this.run)}},{key:"run",value:function(){this.posX=this.event.pageX,this.posY=this.event.pageY,this.callback(this.posX,this.posY)}}]),t}(),S.RO=function(){function t(e){babelHelpers.classCallCheck(this,t),this.opts=e,this.isTouch=S.Detect.isTouch,S.BindMaker(this,["getThrottle","getRAF"]),this.throttle=new S.Throttle({callback:this.getRAF,delay:this.opts.throttle.delay,endOnly:this.opts.throttle.endOnly}),this.rafTicking=new S.RafTicking}return babelHelpers.createClass(t,[{key:"on",value:function(){this.listeners("add")}},{key:"off",value:function(){this.listeners("remove")}},{key:"listeners",value:function(t){this.isTouch?S.Listen(window,t,"orientationchange",this.getThrottle):S.Listen(window,t,"resize",this.getThrottle)}},{key:"getThrottle",value:function(){this.throttle.init()}},{key:"getRAF",value:function(){this.rafTicking.start(this.opts.callback)}}]),t}(),S.Scroll=function(){function t(e){babelHelpers.classCallCheck(this,t),this.opts=e,this.defaultScrolled=S.Detect.defaultScrolled(),S.BindMaker(this,["getThrottle","getRAF","run"]),this.throttle=new S.Throttle({callback:this.getRAF,delay:this.opts.throttle.delay,endOnly:this.opts.throttle.endOnly}),this.rafTicking=new S.RafTicking}return babelHelpers.createClass(t,[{key:"on",value:function(){this.startScrollY=this.defaultScrolled.scrollTop,this.listeners("add")}},{key:"off",value:function(){this.listeners("remove")}},{key:"listeners",value:function(t){S.Listen(window,t,"scroll",this.getThrottle)}},{key:"getThrottle",value:function(){this.throttle.init()}},{key:"getRAF",value:function(){this.rafTicking.start(this.run)}},{key:"run",value:function(){var t=this.defaultScrolled.scrollTop,e=-(t-this.startScrollY);this.startScrollY=t,this.opts.callback(t,e)}}]),t}(),S.WTDisable=function(){function t(t){var n=S.Detect.isTouch,i=document;n?S.Listen(i,t,"touchmove",e):S.Listen(i,t,"mouseWheel",e)}function e(t){t.preventDefault()}var n=function(){t("add")},i=function(){t("remove")};return{on:n,off:i}}(),S.WT=function(){function t(e){babelHelpers.classCallCheck(this,t),this.callback=e,this.isTouch=S.Detect.isTouch,this.rafTicking=new S.RafTicking,S.BindMaker(this,["getRAF","run","touchMove"])}return babelHelpers.createClass(t,[{key:"on",value:function(){S.WTDisable.off(),this.listeners("add")}},{key:"off",value:function(){S.WTDisable.on(),this.listeners("remove")}},{key:"listeners",value:function(t){this.isTouch?S.Listen(this.el,t,"touchstart",this.getRAF):S.Listen(document,t,"mouseWheel",this.getRAF)}},{key:"getRAF",value:function(t){t.preventDefault(),this.listeners("remove"),this.event=t,this.rafTicking.start(this.run)}},{key:"run",value:function(){var t=this.event.type;"wheel"===t?this.onWheel():"mousewheel"===t?this.onMouseWheel():this.touchStart()}},{key:"onWheel",value:function(){this.type="scroll",this.delta=this.event.wheelDeltaY||-1*this.event.deltaY,S.Detect.isFirefox&&1===this.event.deltaMode&&(this.delta*=40),this.getCallback()}},{key:"onMouseWheel",value:function(){this.type="scroll",this.delta=this.event.wheelDeltaY?this.event.wheelDeltaY:this.event.wheelDelta,this.getCallback()}},{key:"touchStart",value:function(){this.start=this.event.targetTouches[0].pageY,this.touchMoveListener("add")}},{key:"touchMove",value:function(){this.event.preventDefault(),this.type="touch",this.delta=this.event.targetTouches[0].pageY-this.start,this.touchMoveListener("remove"),this.getCallback()}},{key:"touchMoveListener",value:function(t){S.Listen(document,t,"touchmove",this.touchMove)}},{key:"getCallback",value:function(){this.listeners("add"),this.callback(this.delta,this.type,this.event)}}]),t}(),S.AnimatedLine=function(t){function e(t){var e=t.getTotalLength();t.style.strokeDasharray=e,t.style.opacity=1;var i=new S.Animate({element:t,parameter:"strokeDashoffset",start:e,end:0,easing:n.easing,duration:n.duration,callback:n.callback});i.init()}for(var n=t,i=S.Geb["class"](n.pathsClass),o=i.length,a=0;o>a;a++)e(i[a])},S.ScrollToTop=function(t){function e(){switch(!0){case 0===a:return"Power1InOut";case 600>=a:return"Power1InOut";default:return"ExpoInOut"}}function n(){var t=a/i.totalHeight,e=-Math.pow(2,-10*t)+1;switch(!0){case 0===a:return 0;case a>0&&200>=a:return 300;case a>200&&400>=a:return 500;case a>400&&600>=a:return 700;default:return 1500*e}}var i=t,o=S.Detect.defaultScrolled(),a=o.scrollTop,s={destination:0,duration:n(),easing:e(),during:i.during,callback:i.callback};S.ScrollTo(s)},S.ScrollTo=function(t){function e(){S.WTDisable.off(),n.callback&&n.callback()}var n=t,i=S.Detect.defaultScrolled(),o=i.scrollTop,a=new S.Animate({element:i,parameter:"scrollTop",start:o,end:n.destination,easing:n.easing,duration:n.duration,during:n.during,callback:e});n.destination===o?e():(S.WTDisable.on(),a.init())},S.ScrollZero=function(){var t=S.Detect.defaultScrolled();t.scrollTop=0},S.AutoTransitionend=function(t,e,n){function i(t){t.stopPropagation(),a("remove"),o()}function o(){e(n)}function a(t){S.Listen(s,t,"transitionend",i)}var s=S.Geb.id(t);a("add")},S.Listen=function(t,e,n,i){var o=document,a=void 0;a="mouseWheel"===n?"onwheel"in o?"wheel":void 0!==o.onmousewheel?"mousewheel":"DOMMouseScroll":"focusOut"===n?S.Detect.isFirefox?"blur":"focusout":n,t[e+"EventListener"](a,i)},S.Polyfill.perfNow=function(){"performance"in window||(window.performance={}),"now"in window.performance||!function(){var t=Date.now();window.performance.now=function(){return Date.now()-t}}()},S.Polyfill.raf=function(){var t=0;window.requestAnimationFrame||(window.requestAnimationFrame=function(e){var n=(new Date).getTime(),i=Math.max(0,16-(n-t)),o=S.Delay(function(){e(n+i)},i);return t=n+i,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})},S.Raf=function(t){window.requestAnimationFrame(t)},S.RafIndex=function(){function t(){babelHelpers.classCallCheck(this,t)}return babelHelpers.createClass(t,[{key:"start",value:function(t){this.rafCallback=S.Raf(t)}},{key:"cancel",value:function(){window.cancelAnimationFrame(this.rafCallback)}}]),t}(),S.RafTicking=function(){function t(){babelHelpers.classCallCheck(this,t),this.ticking=!1,this.rafIndex=new S.RafIndex,S.BindMaker(this,["getCallback"])}return babelHelpers.createClass(t,[{key:"start",value:function(t){this.callback=t,this.ticking||(this.ticking=!0,this.rafIndex.start(this.getCallback))}},{key:"getCallback",value:function(){this.callback(),this.destroy()}},{key:"destroy",value:function(){this.rafIndex.cancel(),this.ticking=!1}}]),t}(),S.Win={w:function(){return window.innerWidth},h:function(){return window.innerHeight},path:function(){return window.location.pathname},href:function(){return window.location.href},perfNow:function(){return window.performance.now()}},S.OnPopstate=function(){function t(){S.Delay(function(){n=!1},0)}function e(t){n&&"complete"===document.readyState&&(t.preventDefault(),t.stopImmediatePropagation())}var n="complete"!==document.readyState;S.Listen(window,"add","load",t),S.Listen(window,"add","popstate",e),window.onpopstate=function(){window.location.href=window.location.pathname}},module.exports=S;